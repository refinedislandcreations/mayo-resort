<section
  class="max-w-full mx-auto py-12 md:py-24 lg:py-48 px-4 sm:px-4 md:px-12 lg:px-16 xl:px-20 {{ page.guest_testimonials.bg_color }} min-h-[350px] xs:min-h-[400px] sm:min-h-[480px] md:min-h-[560px]"
>
  <div
    class="flex flex-col xs:flex-row items-center justify-between max-w-[96rem] mx-auto space-y-6 md:space-y-0"
    id="testimonialWrapper"
  >
    <!-- Prev Button (desktop) -->
    <button
      id="prevBtn"
      aria-label="Previous testimonial"
      class="hidden md:flex flex-shrink-0 mx-4"
    >
      <img
        src="{{ '/assets/images/icons/arrow.png' | relative_url }}"
        alt="Left Arrow Icon"
        loading="lazy"
      />
    </button>

    <!-- Testimonials container -->
    <div
      class="flex-1 w-full max-w-full xs:max-w-4xl text-center relative overflow-hidden min-h-[280px] xs:min-h-[320px] sm:min-h-[360px] md:min-h-[420px] flex items-center justify-center"
      id="testimonialContainer"
    >
      {% for t in page.guest_testimonials.testimonials %}
      <article
        class="testimonial-item w-full max-w-full transition-opacity duration-500 ease-in-out {% unless forloop.first %}hidden{% endunless %}"
        data-index="{{ forloop.index0 }}"
      >
        <p
          class="section-title-font mb-6 md:mb-12 text-raisin-black max-w-full break-words"
        >
          "{{ t.main_quote }}"
        </p>

        <div
          class="flex justify-center mb-4 space-x-1 text-keppel text-sm xs:text-base sm:text-lg md:text-xl"
          aria-label="Rating: {{ t.rating }} stars"
        >
          {% for i in (1..5) %} {% if i <= t.rating %}
          <span>★</span>
          {% else %}
          <span>☆</span>
          {% endif %} {% endfor %}
        </div>
        <p
          class="description-font mb-6 max-w-full xs:max-w-3xl mx-auto text-raisin-black"
        >
          {{ t.description }}
        </p>
        <p class="description-bold description-font mb-1 text-raisin-black">
          {{ t.name }}
        </p>
        <p class="description-font text-raisin-black mb-6">{{ t.date }}</p>
        <button
          class="description-font description-semibold underline text-raisin-black hover:text-raisin-black-hover focus:outline-none"
          type="button"
          aria-label="View all reviews"
        >
          <a href="">View all reviews</a>
        </button>
      </article>
      {% endfor %}
    </div>

    <!-- Next Button (desktop) -->
    <button
      id="nextBtn"
      aria-label="Next testimonial"
      class="hidden md:flex select-none flex-shrink-0 rotate-180 mx-4"
    >
      <img
        src="{{ '/assets/images/icons/arrow.png' | relative_url }}"
        alt="Right Arrow Icon"
        loading="lazy"
      />
    </button>
  </div>

  <!-- Mobile arrows container (only show below 768px) -->
  <div
    id="mobileArrows"
    class="flex md:hidden px-4 mt-6 justify-center space-x-6"
  >
    <button id="mobilePrevBtn" aria-label="Previous testimonial">
      <img
        src="{{ '/assets/images/icons/arrow.png' | relative_url }}"
        alt="Left Arrow Icon"
        loading="lazy"
        aria-label="Previous testimonial"
        class="object-contain w-8 h-8"
      />
    </button>
    <button id="mobileNextBtn" aria-label="Next testimonial">
      <img
        src="{{ '/assets/images/icons/arrow.png' | relative_url }}"
        alt="Right Arrow Icon"
        loading="lazy"
        aria-label="Next testimonial"
        class="object-contain rotate-180 w-8 h-8"
      />
    </button>
  </div>
</section>
