<header
  class="bg-custom-blue bg-opacity-80 shadow-md w-full fixed top-0 z-50 h-[70px] md:h-[82px] flex items-center"
>
  <div
    class="max-w-[96rem] mx-auto w-full px-4 sm:px-6 lg:px-8 flex items-center h-full"
  >
    <div class="flex justify-between items-center w-full">
      <!-- Logo -->
      <div class="flex-shrink-0">
        <a href="{{ '/' | relative_url }}">
          <img
            src="{{ '/assets/images/logo.png' | relative_url }}"
            alt="Mayo Resort Logo"
            class="h-[2.1rem] w-auto"
          />
        </a>
      </div>

      <!-- Desktop Menu -->
      <nav class="hidden xl:flex space-x-8 items-center h-full navbar-font">
        {% for item in site.data.navigation.main_nav %} {% if item.submenu %}
        <!-- Dropdown Menu -->
        <div class="relative group h-full flex items-center">
          <button
            class="inline-flex items-center hover:text-baby-powder-hover focus:outline-none navbar-font"
          >
            {{ item.title }}
            <svg
              class="w-4 h-4 ml-2 transform transition-transform duration-300 ease-in-out group-hover:rotate-180"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              aria-hidden="true"
              focusable="false"
            >
              <path d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div
            class="absolute left-0 top-full py-2 bg-custom-blue bg-opacity-80 border-none rounded-none shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 ease-in-out transform scale-95 group-hover:scale-100 origin-top z-20 text-base tracking-widest whitespace-nowrap"
            style="margin-top: 27px"
          >
            {% for subitem in item.submenu %}
            <a
              href="{{ subitem.url | relative_url }}"
              class="block px-6 py-2 text-baby-powder hover:bg-custom-blue-hover navbar-font"
              >{{ subitem.title }}</a
            >
            {% endfor %}
          </div>
        </div>
        {% elsif item.is_button %}
        <!-- Book Now Button -->
        <a
          href="{{ item.url | relative_url }}"
          class="ml-4 inline-block bg-keppel text-white hover:bg-keppel-hover button-font"
          >{{ item.title }}</a
        >
        {% else %}
        <!-- Single Link -->
        <a
          href="{{ item.url | relative_url }}"
          class="text-baby-powder hover:text-baby-powder-hover px-3 py-2 navbar-font"
          >{{ item.title }}</a
        >
        {% endif %} {% endfor %}
      </nav>

      <!-- Mobile Hamburger -->
      <div class="xl:hidden flex items-center space-x-4 z-50">
        <button
          id="mobile-menu-button"
          aria-label="Toggle menu"
          class="text-baby-powder focus:outline-none relative w-8 h-8 flex flex-col justify-between py-1"
        >
          <span
            class="hamburger-line top bg-baby-powder h-1 w-full rounded transition-transform duration-300 ease-in-out origin-center"
          ></span>
          <span
            class="hamburger-line middle bg-baby-powder h-1 w-full rounded transition-opacity duration-300 ease-in-out"
          ></span>
          <span
            class="hamburger-line bottom bg-baby-powder h-1 w-full rounded transition-transform duration-300 ease-in-out origin-center"
          ></span>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <nav
      id="mobile-menu"
      class="fixed inset-0 bg-custom-blue z-40 flex flex-col p-6 xl:hidden transform translate-x-full transition-transform duration-500 ease-in-out overflow-y-auto navbar-font"
    >
      <div
        class="flex flex-col space-y-6 mt-20 uppercase font-bold text-baby-powder text-base w-full max-w-xl mx-auto min-h-[calc(100vh-3rem)]"
      >
        <div class="flex-shrink-0">
          <a href="{{ '/' | relative_url }}">
            <img
              src="{{ '/assets/images/logo.png' | relative_url }}"
              alt="Logo"
              class="h-10 w-auto mx-auto"
            />
          </a>
        </div>
        {% for item in site.data.navigation.main_nav %} {% if item.submenu %}
        <!-- Dropdown Menu -->
        <details class="dropdown">
          <summary
            class="cursor-pointer py-2 hover:text-baby-powder-hover flex items-center justify-between appearance-none"
          >
            <span class="navbar-font">{{ item.title }}</span>
            <svg
              class="w-4 h-4 ml-2 transform transition-transform duration-300 ease-in-out"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              aria-hidden="true"
              focusable="false"
            >
              <path d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>
          <div
            class="dropdown-content overflow-hidden transition-[max-height,opacity] duration-300 ease-in-out opacity-0 max-h-0"
          >
            <ul class="pl-4 space-y-2 mt-2">
              {% for subitem in item.submenu %}
              <li>
                <a
                  href="{{ subitem.url | relative_url }}"
                  class="block hover:text-baby-powder-hover pb-2 navbar-font"
                  >{{ subitem.title }}</a
                >
              </li>
              {% endfor %}
            </ul>
          </div>
        </details>
        {% elsif item.is_button %}
        <div class="text-left">
          <a
            href="{{ item.url | relative_url }}"
            class="inline-block bg-keppel hover:bg-keppel-hover button-font"
            >{{ item.title }}</a
          >
        </div>
        {% else %}
        <a
          href="{{ item.url | relative_url }}"
          class="block py-2 hover:text-baby-powder-hover navbar-font"
          >{{ item.title }}</a
        >
        {% endif %} {% endfor %}

        <!-- Social Icons -->
        <div class="flex space-x-3 justify-start pt-6 pb-6">
          {% for social in site.data.navigation.social_links %}
          <a
            href="{{ social.url }}"
            target="_blank"
            class="text-baby-powder hover:text-baby-powder-hover"
          >
            <img
              src="{{ social.icon | relative_url }}"
              alt="{{ social.title }}"
              class="h-5 w-auto"
            />
          </a>
          {% endfor %}
        </div>
      </div>
    </nav>
  </div>
</header>
